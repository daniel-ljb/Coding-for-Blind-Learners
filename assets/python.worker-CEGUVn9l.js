(function(){"use strict";importScripts("https://cdn.jsdelivr.net/pyodide/v0.29.3/full/pyodide.js");let t=null,i=null;async function o(){if(t)return t;t=await loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.29.3/full/"});function e(...n){self.postMessage({type:"output",data:n.join(" ")})}function r(n=""){return e(n),new Promise(s=>{i=s})}return t.globals.set("print",e),t.globals.set("input",r),t}self.onmessage=async e=>{const{type:r,data:n}=e.data;switch(r){case"run":try{const s=await o(),a=n.replace(/\binput\s*\(/g,"await input("),l=await s.runPythonAsync(a)}catch(s){self.postMessage({type:"error",error:s.toString(),traceback:s.message})}break;case"input":if(i==null)break;i(n),i=null;break}},self.onerror=e=>{self.postMessage({type:"error",error:e})}})();
